<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<title>Variable Font Demo</title>
<style>
/* -------------------------------------- */
/* -------- 1. ê¸°ë³¸ ë° í°íŠ¸ ì„¤ì • -------- */
/* -------------------------------------- */
/* -------------------------------------- */
/* -------- 1. ê¸°ë³¸ ë° í°íŠ¸ ì„¤ì • -------- */
/* -------------------------------------- */
/* ... (ìƒëµ) ... */

/* ---------- ë©”ì¸ ---------- */
.main {
    flex: 1;
    display: flex;
    height: 100vh; 
    overflow: hidden;
}

/* LEFT PANEL (í…ìŠ¤íŠ¸ ì…ë ¥ ì˜ì—­) */
.left-panel {
    /* flex: 1; ì´ ì„¤ì •ì´ ë‚¨ì€ ëª¨ë“  ê³µê°„ì„ ì°¨ì§€í•˜ê²Œ í•©ë‹ˆë‹¤. */
    flex: 1; 
    display: flex;
    flex-direction: column;
    padding: 20px;
    border-right: 1px solid #e6e6e6;
    background: #fff;
    transition: background 0.25s, color 0.25s;
    min-height: 100%; 
    box-sizing: border-box; 
}

/* -------------------------------------- */
/* -------- 4. í…ìŠ¤íŠ¸ ì˜ì—­ ë° í”„ë¦¬ë·° ìŠ¤íƒ€ì¼ -------- */
/* -------------------------------------- */

/* í…ìŠ¤íŠ¸ ì˜ì—­: ì¤„ë°”ê¿ˆì´ ë˜ë„ë¡ ê·¸ëŒ€ë¡œ ë‘¡ë‹ˆë‹¤. */
textarea {
    flex: 1; 
    height: auto; 
    min-height: 100px;
    resize: none;
    font-size: 30px; 
    line-height: 1.5;
    letter-spacing: 0em;
    font-family: 'SpringVF';
    border: none;
    outline: none;
    color: #000;
    background: #fff;
    padding: 18px;
    border-radius: 12px;
    overflow: auto; 
    /* ğŸŒŸ ì¶”ê°€: í…ìŠ¤íŠ¸ê°€ ì¤„ë°”ê¿ˆë˜ë„ë¡ ë„ˆë¹„ ì œì•½ì„ ëª…ì‹œí•©ë‹ˆë‹¤. */
    width: 100%; 
    box-sizing: border-box; 
}


/* RIGHT PANEL (í°íŠ¸ í”„ë¦¬ë·° ê³ ì • ì˜ì—­) */
.right-panel {
    /* ğŸŒŸ ìˆ˜ì •: ë„ˆë¹„ë¥¼ 510pxë¡œ ê³ ì •í•©ë‹ˆë‹¤. */
    width: 510px; 
    /* ğŸŒŸ ìˆ˜ì •: flex-shrink, flex-growë¥¼ ëª¨ë‘ 0ìœ¼ë¡œ ì„¤ì •í•˜ì—¬ ì ˆëŒ€ ì›€ì§ì´ì§€ ì•Šê²Œ ê³ ì •í•©ë‹ˆë‹¤. */
    flex: 0 0 510px; 
    display: flex;
    flex-direction: column;
    border-left: 1px solid #e6e6e6;
    overflow: hidden;
    height: 100%; 
}

/* ... (ë‚˜ë¨¸ì§€ CSSëŠ” ê·¸ëŒ€ë¡œ ìœ ì§€) ... */

body {
    margin: 0;
    display: flex;
    height: 100vh;
    font-family: 'SpringVF', sans-serif;
    background: #f7f7f7;
}

@font-face {
    font-family: 'SpringVF';
    /* ğŸš¨ í°íŠ¸ ê²½ë¡œ ìˆ˜ì •: ë¡œì»¬ ê²½ë¡œ -> ìƒëŒ€ ê²½ë¡œ ('fonts' í´ë” ì‚¬ìš©) */
    src: url('fonts/newserif_normal-VF.ttf') format('truetype');
}
@font-face {
    font-family: 'BelutVF';
    /* ğŸš¨ í°íŠ¸ ê²½ë¡œ ìˆ˜ì •: ë¡œì»¬ ê²½ë¡œ -> ìƒëŒ€ ê²½ë¡œ ('fonts' í´ë” ì‚¬ìš©) */
    src: url('fonts/5amBellutTTF.ttf') format('truetype');
}

/* ---------- ë©”ì¸ ---------- */
.main {
    flex: 1;
    display: flex;
    height: 100vh; 
    overflow: hidden;
}

.left-panel {
    flex: 1; 
    display: flex;
    flex-direction: column;
    padding: 20px;
    border-right: 1px solid #e6e6e6;
    background: #fff;
    transition: background 0.25s, color 0.25s;
    min-height: 100%; 
    box-sizing: border-box; 
}

/* -------------------------------------- */
/* -------- 2. ì»¨íŠ¸ë¡¤ ë°” ì˜ì—­ ìŠ¤íƒ€ì¼ -------- */
/* -------------------------------------- */

.control-panel-wrapper {
    flex: 0 0 auto; 
    display: flex;
    flex-wrap: wrap; 
    gap: 20px; 
    margin-bottom: 20px;
}

.text-controls {
    display: flex;
    flex-direction: column; 
    align-items: flex-start;
    gap: 5px; 
    min-width: 150px; 
}

.control-info {
    display: flex;
    justify-content: space-between;
    width: 100%;
}

.control-label, .control-value {
    font-size: 13px;
    font-weight: bold;
    color: #333;
    font-family: 'SpringVF'; 
    font-feature-settings: 'normal'; 
    font-variation-settings: 'wght' 400; 
    transition: all 0.2s;
}

.control-value {
    font-weight: normal;
    color: #555;
}

/* ìŠ¬ë¼ì´ë” ìŠ¤íƒ€ì¼ */
input[type="range"] {
    -webkit-appearance: none;
    appearance: none;
    width: 100%; 
    height: 6px;
    background: transparent;
    outline: none;
    cursor: pointer;
    margin: 0;
}
#weightSlider::-webkit-slider-runnable-track {
    height: 6px;
    border-radius: 3px;
    background: linear-gradient(to right, #333 0%, #333 var(--weight-progress, 33%), #e0e0e0 var(--weight-progress, 33%), #e0e0e0 100%);
}
#fontSizeSlider::-webkit-slider-runnable-track,
#letterSpacingSlider::-webkit-slider-runnable-track,
#lineHeightSlider::-webkit-slider-runnable-track {
    height: 6px;
    border-radius: 3px;
    background: #e0e0e0;
}
input[type="range"]::-webkit-slider-thumb {
    -webkit-appearance: none;
    appearance: none;
    width: 16px; 
    height: 16px;
    border-radius: 50%;
    background: #000;
    margin-top: -5px; 
    box-shadow: 0 2px 4px rgba(0,0,0,0.3);
    transition: background 0.2s, box-shadow 0.2s;
}
input[type="range"]::-moz-range-thumb {
    width: 16px;
    height: 16px;
    border-radius: 50%;
    background: #000;
    border: none;
    box-shadow: 0 2px 4px rgba(0,0,0,0.3);
    transition: background 0.2s, box-shadow 0.2s;
}

/* ì œëª©/ë³¸ë¬¸ ë²„íŠ¼ ì˜ì—­ ìŠ¤íƒ€ì¼ */
.feature-switch-wrapper {
    flex: 0 0 auto; 
    margin-bottom: 20px;
}
.feature-switch {
    display: flex;
    gap: 8px;
}
.feature-switch button {
    padding: 6px 12px;
    font-size: 13px;
    border: none;
    background: #f1f1f1;
    cursor: pointer;
    border-radius: 8px;
    transition: all .18s;
}
.feature-switch button.active {
    background: #111;
    color: #fff;
}

/* -------------------------------------- */
/* -------- 3. í°íŠ¸ í† ê¸€ ìŠ¤ìœ„ì¹˜ ìŠ¤íƒ€ì¼ -------- */
/* -------------------------------------- */

.font-toggle-wrapper {
    flex: 0 0 auto;
    margin-top: 20px; 
    margin-bottom: 20px;
    display: flex;
    justify-content: flex-start; /* ì™¼ìª½ ì •ë ¬ */
    align-items: center;
    padding-left: 18px; 
    padding-right: 18px;
    width: 100%;
    box-sizing: border-box; 
}

.toggle-container {
    display: flex;
    align-items: center;
    gap: 10px;
}

.toggle-label {
    font-size: 16px;
    font-weight: bold;
    color: #777;
    cursor: pointer;
    transition: color 0.2s;
}
.toggle-label.active {
    color: #000;
}

/* Base Switch */
.switch {
    position: relative;
    display: inline-block;
    width: 60px;
    height: 34px;
}

.switch input {
    opacity: 0;
    width: 0;
    height: 0;
}

.slider {
    position: absolute;
    cursor: pointer;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-color: #ccc;
    transition: .4s;
    border-radius: 34px;
}

.slider:before {
    position: absolute;
    content: "";
    height: 26px;
    width: 26px;
    left: 4px;
    bottom: 4px;
    background-color: white;
    transition: .4s;
    border-radius: 50%;
    box-shadow: 0 1px 3px rgba(0,0,0,0.2);
}

/* Checked (ë²¨ë£») ìƒíƒœ */
input:checked + .slider {
    background-color: #000;
}

input:checked + .slider:before {
    transform: translateX(26px);
}

/* -------------------------------------- */
/* -------- 4. í…ìŠ¤íŠ¸ ì˜ì—­ ë° í”„ë¦¬ë·° ìŠ¤íƒ€ì¼ -------- */
/* -------------------------------------- */

textarea {
    flex: 1; 
    height: auto; 
    min-height: 100px;
    resize: none;
    font-size: 30px; 
    line-height: 1.5;
    letter-spacing: 0em;
    font-family: 'SpringVF';
    border: none;
    outline: none;
    color: #000;
    background: #fff;
    padding: 18px;
    border-radius: 12px;
    overflow: auto; 
}

.right-panel {
    width: 510px; 
    flex: 0 0 510px; 
    display: flex;
    flex-direction: column;
    border-left: 1px solid #e6e6e6;
    overflow: hidden;
    height: 100%; 
}

/* í°íŠ¸ í”„ë¦¬ë·° (í° ê¸€ë¦½) ìŠ¤íƒ€ì¼ - í¬ê³  ì¤‘ì•™ì— ë°°ì¹˜ */
.glyph-display {
    flex: 1;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 300px; 
    line-height: 1;
    border-bottom: 1px solid #eee;
    background: #fff;
    transition: font-family 0.2s, background 0.2s, color 0.2s, border 0.2s;
    white-space: normal; 
    padding: 0; 
    letter-spacing: 0; 
}

.glyph-grid {
    flex: 1;
    display: grid;
    grid-template-columns: repeat(5, 80px); 
    grid-auto-rows: 80px; 
    overflow-y: auto;
    padding: 10px;
    background: #fafafa;
    gap: 10px; 
    justify-content: center;
}

.glyph-box {
    width: 80px; 
    height: 80px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 34px;
    cursor: pointer;
    border-radius: 10px;
    border: 1px solid #e6e6e6;
    background: #fff;
    transition: all .18s;
    font-family: 'SpringVF';
}

/* -------------------------------------- */
/* -------- 5. ë²¨ë£» (ë°˜ì „) ìŠ¤íƒ€ì¼ -------- */
/* -------------------------------------- */

.belut-page .left-panel,
.belut-page .right-panel {
    background: #000;
    color: #fff;
}

/* ë²¨ë£» í˜ì´ì§€ í† ê¸€ ìŠ¤íƒ€ì¼ ì¡°ì • */
.belut-page .toggle-label {
    color: #555;
}
.belut-page .toggle-label.active {
    color: #fff;
}
.belut-page .switch .slider {
    background-color: #444;
}
.belut-page .switch input:checked + .slider {
    background-color: #fff;
}
.belut-page .switch input:checked + .slider:before {
    background-color: #000;
}


/* ë‚˜ë¨¸ì§€ ë²¨ë£» ìŠ¤íƒ€ì¼ */
.belut-page .left-panel { border-right: 1px solid #444; }
.belut-page .right-panel { border-left: 1px solid #444; }
.belut-page .glyph-display { border-bottom: 1px solid #444; }
.belut-page .glyph-box { border: 1px solid #444; }
.belut-page #weightControl { display: none; }
.belut-page #titleBtnWrapper { display: none; }
.belut-page .control-label,
.belut-page .control-value { 
    color: #fff; 
    font-family: 'BelutVF'; 
    font-feature-settings: normal; 
    font-variation-settings: normal;
    font-weight: bold; 
}
.belut-page #fontSizeSlider::-webkit-slider-runnable-track,
.belut-page #letterSpacingSlider::-webkit-slider-runnable-track,
.belut-page #lineHeightSlider::-webkit-slider-runnable-track { background: #444; }
.belut-page input[type="range"]::-webkit-slider-thumb { background: #fff; }
.belut-page textarea {
    background: #0b0b0b;
    color: #fff;
    font-family: 'BelutVF';
}
.belut-page .glyph-display {
    background: #000;
    color: #fff;
    font-family: 'BelutVF';
}
.belut-page .glyph-grid {
    background: #0b0b0b;
}
.belut-page .glyph-box {
    background: #0b0b0b;
    color: #fff;
    font-family: 'BelutVF';
}
.belut-page .glyph-box.active {
    background: #fff;
    color: #000;
}
</style>
</head>
<body>

<div class="main">
    <div class="left-panel">
        
        <div class="control-panel-wrapper">
            
            <div class="text-controls" id="weightControl">
                <div class="control-info">
                    <div class="control-label" id="weightLabel">Weight</div> 
                </div>
                <input type="range" id="weightSlider" min="100" max="900" value="400" />
            </div>
            
            <div class="text-controls">
                <div class="control-info">
                    <div class="control-label" id="fontSizeLabel">Font Size</div> 
                    <div class="control-value" id="fontSizeValue">100px</div>
                </div>
                <input type="range" id="fontSizeSlider" min="30" max="140" value="100" />
            </div>

            <div class="text-controls">
                <div class="control-info">
                    <div class="control-label" id="letterSpacingLabel">Letter Spacing</div> 
                    <div class="control-value" id="letterSpacingValue">0</div>
                </div>
                <input type="range" id="letterSpacingSlider" min="-20" max="20" step="1" value="0" />
            </div>

            <div class="text-controls">
                <div class="control-info">
                    <div class="control-label" id="lineHeightLabel">Leading</div> 
                    <div class="control-value" id="lineHeightValue">1.50</div>
                </div>
                <input type="range" id="lineHeightSlider" min="1.0" max="1.5" step="0.05" value="1.50" />
            </div>

        </div>
        
        <div class="feature-switch-wrapper" id="titleBtnWrapper">
            <div class="feature-switch">
                <button id="titleBtn" class="active">ì œëª©ìš©</button> 
                <button id="bodyBtn">ë³¸ë¬¸ìš©</button>
            </div>
        </div>
        
        <textarea id="typeArea">Spring Variable</textarea>

        <div class="font-toggle-wrapper">
            <div class="toggle-container">
                <span class="toggle-label" id="springLabel">Spring</span>
                <label class="switch">
                    <input type="checkbox" id="fontToggle">
                    <span class="slider"></span>
                </label>
                <span class="toggle-label" id="belutLabel">ë²¨ë£»</span>
            </div>
        </div>
        
    </div>

    <div class="right-panel">
        <div class="glyph-display" id="glyphDisplay">A</div>
        <div class="glyph-grid" id="glyphGrid"></div>
    </div>
</div>

<script>
const tabContents = { 
    spring: "Spring Variable Font", 
    belut: "ë²¨ë£» Bellut" 
}; 
let currentTab = 'spring';

let fontStates = {
    spring: {
        weight: 400,
        size: 100,
        spacing: 0,
        leading: 1.50,
        feature: "normal" 
    },
    belut: {
        weight: 400, 
        size: 100,
        spacing: 0,
        leading: 1.50,
        feature: "normal"
    }
};

const main = document.querySelector('.main');
const typeArea = document.getElementById('typeArea');
const glyphDisplay = document.getElementById('glyphDisplay');
const glyphGrid = document.getElementById('glyphGrid');

// ì»¨íŠ¸ë¡¤ ìš”ì†Œ
const weightSlider = document.getElementById('weightSlider');
const fontSizeSlider = document.getElementById('fontSizeSlider');
const letterSpacingSlider = document.getElementById('letterSpacingSlider');
const lineHeightSlider = document.getElementById('lineHeightSlider');

const fontSizeValue = document.getElementById('fontSizeValue');
const letterSpacingValue = document.getElementById('letterSpacingValue');
const lineHeightValue = document.getElementById('lineHeightValue');

const titleBtn = document.getElementById('titleBtn');
const bodyBtn = document.getElementById('bodyBtn');

// ë¼ë²¨ ìš”ì†Œ
const weightLabel = document.getElementById('weightLabel');
const fontSizeLabel = document.getElementById('fontSizeLabel');
const letterSpacingLabel = document.getElementById('letterSpacingLabel');
const lineHeightLabel = document.getElementById('lineHeightLabel');

// í† ê¸€ ìŠ¤ìœ„ì¹˜ ìš”ì†Œ
const fontToggle = document.getElementById('fontToggle');
const springLabel = document.getElementById('springLabel');
const belutLabel = document = document.getElementById('belutLabel');


function updateSliderProgress(slider) {
    const min = parseFloat(slider.min);
    const max = parseFloat(slider.max);
    const val = parseFloat(slider.value);
    const progress = ((val - min) / (max - min)) * 100;
    slider.style.setProperty('--weight-progress', `${progress}%`);
}

function syncControlValuesToDisplay(size, spacing, leading, weight = null) {
    // 1. Textarea
    typeArea.style.fontSize = `${size}px`; 
    typeArea.style.lineHeight = parseFloat(leading).toFixed(2);
    typeArea.style.letterSpacing = `${spacing / 1000}em`;
    if (weight !== null) {
        typeArea.style.fontVariationSettings = `'wght' ${weight}`;
    }

    // 2. Control Value Display & Sliders
    fontSizeValue.textContent = `${size}px`;
    letterSpacingValue.textContent = spacing;
    lineHeightValue.textContent = parseFloat(leading).toFixed(2);
    
    fontSizeSlider.value = size;
    letterSpacingSlider.value = spacing;
    lineHeightSlider.value = leading;
    if (weight !== null) {
        weightSlider.value = weight;
        updateSliderProgress(weightSlider); 
    }
    
    // 3. Glyph Display: í¬ê¸°ëŠ” CSSì—ì„œ ê³ ì •ë¨. Weightë§Œ ì—…ë°ì´íŠ¸
    if (weight !== null) {
        glyphDisplay.style.fontVariationSettings = `'wght' ${weight}`;
        document.querySelectorAll('.glyph-box').forEach(box=>box.style.fontVariationSettings=`'wght' ${weight}`);
    }
}

function applySpringStyle(weight) { 
    // ë¼ë²¨ê³¼ ê°’ ìš”ì†Œ ëª©ë¡
    const elements = [weightLabel, fontSizeLabel, letterSpacingLabel, lineHeightLabel, fontSizeValue, letterSpacingValue, lineHeightValue];
    elements.forEach(el => {
        el.style.fontFamily = 'SpringVF';
        // ë¼ë²¨ í…ìŠ¤íŠ¸ëŠ” ë¬´ì¡°ê±´ ë³¸ë¬¸ìš© ('ss01' 1)ìœ¼ë¡œ ê³ ì •
        el.style.fontFeatureSettings = "'ss01' 1"; 
        el.style.fontVariationSettings = `'wght' ${weight}`; 
        el.style.color = '#333';
    });
    // valueëŠ” normal weightë¡œ ë³€ê²½í•˜ì—¬ ë¼ë²¨ê³¼ êµ¬ë¶„
    [fontSizeValue, letterSpacingValue, lineHeightValue].forEach(el => {
        el.style.fontWeight = 'normal';
    });
}

function applyBelutStyle() {
    const elements = [fontSizeLabel, letterSpacingLabel, lineHeightLabel, fontSizeValue, letterSpacingValue, lineHeightValue];
    elements.forEach(el => {
        el.style.fontFamily = 'BelutVF';
        el.style.fontFeatureSettings = 'normal';
        el.style.fontVariationSettings = 'normal';
        el.style.color = '#fff';
        el.style.fontWeight = 'bold';
    });
    // valueëŠ” normal weight
    [fontSizeValue, letterSpacingValue, lineHeightValue].forEach(el => {
        el.style.fontWeight = 'normal';
    });
}

function switchFontTab(target) {
    // 1. ì´ì „ íƒ­ì˜ ìƒíƒœ ì €ì¥
    if (currentTab === 'spring' || currentTab === 'belut') {
        tabContents[currentTab] = typeArea.value; 

        fontStates[currentTab] = {
            weight: parseInt(weightSlider.value), 
            size: parseInt(fontSizeSlider.value),
            spacing: parseInt(letterSpacingSlider.value),
            leading: parseFloat(lineHeightSlider.value),
            feature: currentTab === 'spring' ? (bodyBtn.classList.contains('active') ? "'ss01' 1" : "normal") : "normal"
        };
    }

    // 2. í°íŠ¸ í† ê¸€ UI ì—…ë°ì´íŠ¸
    currentTab = target;
    fontToggle.checked = (target === 'belut'); // í† ê¸€ ìŠ¤ìœ„ì¹˜ ìƒíƒœ ë™ê¸°í™”

    if (target === 'belut') {
        belutLabel.classList.add('active');
        springLabel.classList.remove('active');
    } else {
        springLabel.classList.add('active');
        belutLabel.classList.remove('active');
    }

    // 3. ìƒˆ íƒ­ì˜ ìƒíƒœ ë¶ˆëŸ¬ì˜¤ê¸° ë° ì ìš©
    const state = fontStates[currentTab];
    typeArea.value = tabContents[currentTab];
    
    if (target === 'belut') {
      main.classList.add('belut-page');
      
      // í°íŠ¸ ì„¤ì •
      typeArea.style.fontFamily = 'BelutVF';
      glyphDisplay.style.fontFamily = 'BelutVF';
      document.querySelectorAll('.glyph-box').forEach(box => box.style.fontFamily = 'BelutVF');
      
      // Belutì€ Weight/Featureê°€ ë‹¨ìˆœí•¨.
      typeArea.style.fontVariationSettings = 'normal';
      glyphDisplay.style.fontVariationSettings = 'normal';
      document.querySelectorAll('.glyph-box').forEach(box=>box.style.fontVariationSettings='normal');
      state.feature = 'normal'; 
      typeArea.style.fontFeatureSettings = state.feature;
      glyphDisplay.style.fontFeatureSettings = state.feature;
      document.querySelectorAll('.glyph-box').forEach(box=>box.style.fontFeatureSettings=state.feature);
      
      // ë²¨ë£» ë¼ë²¨/ê°’ ìŠ¤íƒ€ì¼ ì ìš©
      applyBelutStyle();
      
      // ì»¨íŠ¸ë¡¤ ê°’ ë™ê¸°í™” (WeightëŠ” null ì „ë‹¬)
      syncControlValuesToDisplay(state.size, state.spacing, state.leading); 
      
    } else { // Spring íƒ­
      main.classList.remove('belut-page');
      
      // í°íŠ¸ ì„¤ì •
      typeArea.style.fontFamily = 'SpringVF';
      glyphDisplay.style.fontFamily = 'SpringVF';
      document.querySelectorAll('.glyph-box').forEach(box => box.style.fontFamily = 'SpringVF');
      
      // Feature ì ìš© ë° ë²„íŠ¼ ìƒíƒœ ì—…ë°ì´íŠ¸
      typeArea.style.fontFeatureSettings = state.feature;
      glyphDisplay.style.fontFeatureSettings = state.feature;
      document.querySelectorAll('.glyph-box').forEach(box=>box.style.fontFeatureSettings=state.feature);
      
      if (state.feature === "'ss01' 1") {
          bodyBtn.classList.add('active');
          titleBtn.classList.remove('active');
      } else {
          titleBtn.classList.add('active');
          bodyBtn.classList.remove('active');
      }
      
      // Spring ë¼ë²¨/ê°’ ìŠ¤íƒ€ì¼ ì ìš© (Weight í¬í•¨)
      applySpringStyle(state.weight);
      
      // ì»¨íŠ¸ë¡¤ ê°’ ë™ê¸°í™” 
      syncControlValuesToDisplay(state.size, state.spacing, state.leading, state.weight);
    }
}


// í°íŠ¸ í† ê¸€ ìŠ¤ìœ„ì¹˜ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ (ì²´í¬ë°•ìŠ¤)
fontToggle.addEventListener('change', () => {
    // ì²´í¬ ìƒíƒœë©´ 'belut', ì•„ë‹ˆë©´ 'spring'
    const target = fontToggle.checked ? 'belut' : 'spring';
    switchFontTab(target);
});

// í† ê¸€ ë¼ë²¨ í´ë¦­ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì¶”ê°€ 
springLabel.addEventListener('click', () => {
    if (fontToggle.checked) { // í˜„ì¬ ë²¨ë£» ìƒíƒœë¼ë©´
        fontToggle.checked = false;
        fontToggle.dispatchEvent(new Event('change')); // change ì´ë²¤íŠ¸ ìˆ˜ë™ ë°œìƒ
    }
});

belutLabel.addEventListener('click', () => {
    if (!fontToggle.checked) { // í˜„ì¬ Spring ìƒíƒœë¼ë©´
        fontToggle.checked = true;
        fontToggle.dispatchEvent(new Event('change')); // change ì´ë²¤íŠ¸ ìˆ˜ë™ ë°œìƒ
    }
});


// ê¸€ë¦½ ìƒì„±
const basicLatin = `ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789!"#$%&'()*+,-./:;<=>?@[\\]^_\`{|}~`;
for (const ch of basicLatin) {
    const box = document.createElement('div');
    box.className = 'glyph-box';
    box.textContent = ch;
    glyphGrid.appendChild(box);
    box.addEventListener('click', () => {
        glyphDisplay.textContent = ch; 
        
        document.querySelectorAll('.glyph-box').forEach(b => b.classList.remove('active'));
        box.classList.add('active');
    });
}

// ì´ˆê¸° ë¡œë”© ì‹œ switchFontTab('spring') í˜¸ì¶œ
switchFontTab('spring');


// 1. Weight ì¡°ì ˆ
weightSlider.addEventListener('input',(e)=>{
    const w = e.target.value;
    typeArea.style.fontVariationSettings = `'wght' ${w}`;
    glyphDisplay.style.fontVariationSettings = `'wght' ${w}`;
    document.querySelectorAll('.glyph-box').forEach(box=>box.style.fontVariationSettings=`'wght' ${w}`);
    applySpringStyle(w); 
    fontStates.spring.weight = parseInt(w);
    updateSliderProgress(weightSlider); 
});

// 2. Font Size ì¡°ì ˆ
fontSizeSlider.addEventListener('input', (e) => {
    const size = e.target.value;
    typeArea.style.fontSize = `${size}px`; 
    fontSizeValue.textContent = `${size}px`;
    fontStates[currentTab].size = parseInt(size);
});

// 3. Letter Spacing ì¡°ì ˆ
letterSpacingSlider.addEventListener('input', (e) => {
    const rawVal = parseInt(e.target.value);
    const spacingEm = rawVal / 1000;
    typeArea.style.letterSpacing = `${spacingEm}em`;
    letterSpacingValue.textContent = rawVal;
    fontStates[currentTab].spacing = rawVal;
});

// 4. Leading (Line Height) ì¡°ì ˆ
lineHeightSlider.addEventListener('input', (e) => {
    const height = parseFloat(e.target.value).toFixed(2);
    typeArea.style.lineHeight = height;
    lineHeightValue.textContent = height;
    fontStates[currentTab].leading = parseFloat(height);
});


// ì œëª©/ë³¸ë¬¸ ë²„íŠ¼ ê¸°ëŠ¥
titleBtn.addEventListener('click',()=>{
    titleBtn.classList.add('active');
    bodyBtn.classList.remove('active');
    const feature = 'normal';
    typeArea.style.fontFeatureSettings = feature;
    glyphDisplay.style.fontFeatureSettings = feature;
    document.querySelectorAll('.glyph-box').forEach(box=>box.style.fontFeatureSettings=feature);
    fontStates.spring.feature = feature;
    applySpringStyle(fontStates.spring.weight);
});

bodyBtn.addEventListener('click',()=>{
    bodyBtn.classList.add('active');
    titleBtn.classList.remove('active');
    const feature = "'ss01' 1";
    typeArea.style.fontFeatureSettings = feature;
    glyphDisplay.style.fontFeatureSettings = feature;
    document.querySelectorAll('.glyph-box').forEach(box=>box.style.fontFeatureSettings=feature);
    fontStates.spring.feature = feature;
    applySpringStyle(fontStates.spring.weight);
});
</script>
</body>
</html>